{"version":3,"sources":["webpack://factory/./src/Wallet.ts","webpack://factory/./src/index.ts"],"names":["Wallet","type","this","parseFloat","localStorage","getItem","current","get","setItem","toFixed","count","currentCount","set","ScrapWallet","PickaxeWallet","UpdateInfo","backAccountCountSpan","document","getElementById","PickaxeCountSpan","HTMLSpanElement","textContent","toString","onclick","add","tryRemove","gameLoop","setTimeout"],"mappings":"mBAAA,MAAMA,EAGF,YAAYC,GACRC,KAAKD,KAAOA,EAGT,MACH,OAAOE,WAAWC,aAAaC,QAAQ,UAAYH,KAAKD,OAAS,KAG9D,MACH,MAAMK,EAAUJ,KAAKK,MAGrB,OAFAH,aAAaI,QAAQ,UAAYN,KAAKD,MAAOK,EAAU,GAAGG,QAAQ,IAE3DH,EAAU,EAGd,IAAII,GACPN,aAAaI,QAAQ,UAAYN,KAAKD,KAAMS,EAAMD,QAAQ,IAGvD,UAAUC,GACb,MAAMC,EAAeT,KAAKK,MAE1B,OAAII,GAAgBD,IAChBR,KAAKU,IAAID,EAAeD,IACjB,IAOnB,MAAMG,EAAc,IAAIb,EAAO,SACzBc,EAAgB,IAAId,EAAO,WChBjC,SAASe,IACL,MAAMC,EAAuBC,SAASC,eAAe,oBAC/CC,EAAmBF,SAASC,eAAe,YAC7CF,aAAgCI,kBAChCJ,EAAqBK,YAAcR,EAAYN,MAAME,QAAQ,IAG7DU,aAA4BC,kBAC5BD,EAAiBE,YAAcP,EAAcP,MAAMe,YAxB3DL,SAASC,eAAe,gBAAgBK,QAAU,WAK9CV,EAAYW,MACZT,KALJE,SAASC,eAAe,WAAWK,QAAU,WASrCV,EAAYY,UAAU,OACtBX,EAAcU,MACdT,MAgBR,MAAMW,EAAW,WACb,IACIX,I,QAEAY,WAAWD,EAAU,OAG7BA,K","file":"bundle.js","sourcesContent":["class Wallet {\r\n    private readonly type: string;\r\n\r\n    constructor(type: string) {\r\n        this.type = type;\r\n    }\r\n\r\n    public get(): number {\r\n        return parseFloat(localStorage.getItem(\"Wallet_\" + this.type) || \"0\")\r\n    }\r\n\r\n    public add(): number {\r\n        const current = this.get();\r\n        localStorage.setItem(\"Wallet_\" + this.type, (current + 1).toFixed(2));\r\n\r\n        return current + 1;\r\n    }\r\n\r\n    public set(count: number): void {\r\n        localStorage.setItem(\"Wallet_\" + this.type, count.toFixed(2));\r\n    }\r\n\r\n    public tryRemove(count: number): boolean {\r\n        const currentCount = this.get();\r\n\r\n        if (currentCount >= count) {\r\n            this.set(currentCount - count);\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\nconst ScrapWallet = new Wallet(\"Scrap\");\r\nconst PickaxeWallet = new Wallet(\"Pickaxe\");\r\n\r\nexport { ScrapWallet, PickaxeWallet }","import { ScrapWallet, PickaxeWallet } from \"./Wallet\";\r\n\r\n//declaring the buttons\r\ndocument.getElementById(\"PlayerGather\").onclick = function () { PlayerClick() };\r\ndocument.getElementById(\"BuyPick\").onclick = function () { BuyPickaxe() };\r\n\r\n//buttons\r\nfunction PlayerClick() {\r\n    ScrapWallet.add();\r\n    UpdateInfo();\r\n}\r\n\r\nfunction BuyPickaxe() {\r\n    if (ScrapWallet.tryRemove(100)) {\r\n        PickaxeWallet.add();\r\n        UpdateInfo();\r\n    }\r\n}\r\n\r\nfunction UpdateInfo() {\r\n    const backAccountCountSpan = document.getElementById(\"BankAccountCount\");\r\n    const PickaxeCountSpan = document.getElementById(\"Pickaxes\");\r\n    if (backAccountCountSpan instanceof HTMLSpanElement) {\r\n        backAccountCountSpan.textContent = ScrapWallet.get().toFixed(2);\r\n\r\n    }\r\n    if (PickaxeCountSpan instanceof HTMLSpanElement) {\r\n        PickaxeCountSpan.textContent = PickaxeWallet.get().toString();\r\n    }\r\n}\r\n\r\nconst gameLoop = function () {\r\n    try {\r\n        UpdateInfo();\r\n    } finally {\r\n        setTimeout(gameLoop, 1000);\r\n    }\r\n}\r\ngameLoop();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const gameLoop = function() {\r\n//     try {\r\n//         const backAccountCountSpan = document.getElementById(\"BankAccountCount\");\r\n//         if (backAccountCountSpan instanceof HTMLSpanElement) {\r\n//             backAccountCountSpan.textContent = ((parseFloat(backAccountCountSpan.textContent) || 0) + 0.01).toFixed(2);\r\n//         }\r\n//     } finally {\r\n//         setTimeout(gameLoop, 1000);\r\n//     }\r\n// }\r\n\r\n// gameLoop();"],"sourceRoot":""}